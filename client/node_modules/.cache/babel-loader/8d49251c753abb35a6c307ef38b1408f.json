{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.render = render;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require('react-side-effect');\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _utils = require('./utils');\n\nvar _dom = require('./dom');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction reducePropsTostate(propsList) {\n  var props = {};\n  var dynamicProps = {\n    title: undefined,\n    description: undefined,\n    canonical: undefined\n  };\n  var extend = true;\n\n  var _loop = function _loop() {\n    extend = propsList[i].hasOwnProperty('extend');\n    var _props = propsList[i];\n\n    var _cloned = (0, _utils.clone)(propsList[i]);\n\n    ['title', 'description', 'canonical'].forEach(function (key) {\n      if (_props.hasOwnProperty(key)) {\n        if (typeof _props[key] === 'function') {\n          dynamicProps[key] = _props[key](dynamicProps[key]);\n        } else if (dynamicProps[key] === undefined) {\n          dynamicProps[key] = _props[key];\n        }\n      }\n    });\n    (0, _utils.defaults)(props, _cloned);\n  };\n\n  for (var i = propsList.length - 1; extend && i >= 0; i--) {\n    _loop();\n  }\n\n  if (typeof dynamicProps.title === 'string') {\n    props.title = dynamicProps.title;\n  }\n\n  if (typeof dynamicProps.description === 'string') {\n    (0, _utils.defaults)(props, {\n      meta: {\n        name: {\n          description: dynamicProps.description\n        }\n      }\n    });\n  }\n\n  if (typeof dynamicProps.canonical === 'string') {\n    (0, _utils.defaults)(props, {\n      link: {\n        rel: {\n          canonical: dynamicProps.canonical\n        }\n      }\n    });\n  }\n\n  if (props.auto && props.auto.ograph) {\n    ograph(props);\n  }\n\n  return props;\n}\n\nfunction handleStateChangeOnClient(props) {\n  if (_dom.canUseDOM) {\n    if (typeof props.title === 'string') {\n      document.title = props.title;\n    }\n\n    (0, _dom.insertDocumentMeta)(getTags(props));\n  }\n}\n\nfunction ograph(p) {\n  if (!p.meta) {\n    p.meta = {};\n  }\n\n  if (!p.meta.property) {\n    p.meta.property = {};\n  }\n\n  var group = p.meta.property;\n\n  if (group) {\n    if (p.title && !group['og:title']) {\n      group['og:title'] = p.title;\n    }\n\n    if (p.hasOwnProperty('description') && !group['og:description']) {\n      group['og:description'] = p.description;\n    }\n\n    if (p.hasOwnProperty('canonical') && !group['og:url']) {\n      group['og:url'] = p.canonical;\n    }\n  }\n\n  return p;\n}\n\nfunction parseTags(tagName) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var tags = [];\n  var contentKey = tagName === 'link' ? 'href' : 'content';\n  Object.keys(props).forEach(function (groupKey) {\n    var group = props[groupKey];\n\n    if (typeof group === 'string') {\n      tags.push(_defineProperty({\n        tagName: tagName\n      }, groupKey, group));\n      return;\n    }\n\n    Object.keys(group).forEach(function (key) {\n      var values = Array.isArray(group[key]) ? group[key] : [group[key]];\n      values.forEach(function (value) {\n        if (value !== null) {\n          var _tags$push2;\n\n          tags.push((_tags$push2 = {\n            tagName: tagName\n          }, _defineProperty(_tags$push2, groupKey, key), _defineProperty(_tags$push2, contentKey, value), _tags$push2));\n        }\n      });\n    });\n  });\n  return tags;\n}\n\nfunction getTags(_props) {\n  return [].concat(parseTags('meta', _props.meta), parseTags('link', _props.link));\n}\n\nfunction render() {\n  var meta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var i = 0;\n  var tags = [];\n\n  function renderTag(entry) {\n    var tagName = entry.tagName,\n        attr = _objectWithoutProperties(entry, ['tagName']);\n\n    if (tagName === 'meta') {\n      return _react2.default.createElement('meta', _extends({}, attr, {\n        key: i++,\n        'data-rdm': true\n      }));\n    }\n\n    if (tagName === 'link') {\n      return _react2.default.createElement('link', _extends({}, attr, {\n        key: i++,\n        'data-rdm': true\n      }));\n    }\n\n    return null;\n  }\n\n  if (meta.title) {\n    tags.push(_react2.default.createElement('title', {\n      key: i++\n    }, meta.title));\n  }\n\n  return getTags(meta).reduce(function (acc, entry) {\n    acc.push(renderTag(entry));\n    return acc;\n  }, tags);\n}\n\nvar DocumentMeta = function (_Component) {\n  _inherits(DocumentMeta, _Component);\n\n  function DocumentMeta() {\n    _classCallCheck(this, DocumentMeta);\n\n    return _possibleConstructorReturn(this, (DocumentMeta.__proto__ || Object.getPrototypeOf(DocumentMeta)).apply(this, arguments));\n  }\n\n  _createClass(DocumentMeta, [{\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n      var count = _react2.default.Children.count(children);\n\n      return count === 1 ? _react2.default.Children.only(children) : count ? _react2.default.createElement('div', null, this.props.children) : null;\n    }\n  }]);\n\n  return DocumentMeta;\n}(_react.Component);\n\nDocumentMeta.propTypes = {\n  title: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  description: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  canonical: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  base: _propTypes2.default.string,\n  meta: _propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]))])),\n  link: _propTypes2.default.objectOf(_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]))),\n  auto: _propTypes2.default.objectOf(_propTypes2.default.bool)\n};\nvar DocumentMetaWithSideEffect = (0, _reactSideEffect2.default)(reducePropsTostate, handleStateChangeOnClient)(DocumentMeta);\n\nDocumentMetaWithSideEffect.renderAsReact = function rewindAsReact() {\n  return render(DocumentMetaWithSideEffect.rewind());\n};\n\nexports.default = DocumentMetaWithSideEffect;","map":{"version":3,"sources":["/Volumes/Data/Project/Satenik/Fashion/fashone/client/node_modules/react-document-meta/dist/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","render","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactSideEffect","_reactSideEffect2","_utils","_dom","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_objectWithoutProperties","keys","indexOf","_defineProperty","reducePropsTostate","propsList","dynamicProps","title","undefined","description","canonical","extend","_loop","_props","_cloned","clone","forEach","defaults","meta","name","link","rel","auto","ograph","handleStateChangeOnClient","canUseDOM","document","insertDocumentMeta","getTags","p","property","group","parseTags","tagName","tags","contentKey","groupKey","push","values","Array","isArray","_tags$push2","concat","renderTag","entry","attr","createElement","reduce","acc","DocumentMeta","_Component","getPrototypeOf","apply","children","count","Children","only","Component","propTypes","oneOfType","string","func","base","objectOf","arrayOf","bool","DocumentMetaWithSideEffect","renderAsReact","rewindAsReact","rewind"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.render = render;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require('react-side-effect');\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _utils = require('./utils');\n\nvar _dom = require('./dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction reducePropsTostate(propsList) {\n  var props = {};\n  var dynamicProps = {\n    title: undefined,\n    description: undefined,\n    canonical: undefined\n  };\n\n  var extend = true;\n\n  var _loop = function _loop() {\n    extend = propsList[i].hasOwnProperty('extend');\n\n    var _props = propsList[i];\n    var _cloned = (0, _utils.clone)(propsList[i]);\n    ['title', 'description', 'canonical'].forEach(function (key) {\n      if (_props.hasOwnProperty(key)) {\n        if (typeof _props[key] === 'function') {\n          dynamicProps[key] = _props[key](dynamicProps[key]);\n        } else if (dynamicProps[key] === undefined) {\n          dynamicProps[key] = _props[key];\n        }\n      }\n    });\n\n    (0, _utils.defaults)(props, _cloned);\n  };\n\n  for (var i = propsList.length - 1; extend && i >= 0; i--) {\n    _loop();\n  }\n\n  if (typeof dynamicProps.title === 'string') {\n    props.title = dynamicProps.title;\n  }\n  if (typeof dynamicProps.description === 'string') {\n    (0, _utils.defaults)(props, {\n      meta: { name: { description: dynamicProps.description } }\n    });\n  }\n  if (typeof dynamicProps.canonical === 'string') {\n    (0, _utils.defaults)(props, { link: { rel: { canonical: dynamicProps.canonical } } });\n  }\n\n  if (props.auto && props.auto.ograph) {\n    ograph(props);\n  }\n\n  return props;\n}\n\nfunction handleStateChangeOnClient(props) {\n  if (_dom.canUseDOM) {\n    if (typeof props.title === 'string') {\n      document.title = props.title;\n    }\n    (0, _dom.insertDocumentMeta)(getTags(props));\n  }\n}\n\nfunction ograph(p) {\n  if (!p.meta) {\n    p.meta = {};\n  }\n  if (!p.meta.property) {\n    p.meta.property = {};\n  }\n\n  var group = p.meta.property;\n  if (group) {\n    if (p.title && !group['og:title']) {\n      group['og:title'] = p.title;\n    }\n    if (p.hasOwnProperty('description') && !group['og:description']) {\n      group['og:description'] = p.description;\n    }\n    if (p.hasOwnProperty('canonical') && !group['og:url']) {\n      group['og:url'] = p.canonical;\n    }\n  }\n  return p;\n}\n\nfunction parseTags(tagName) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var tags = [];\n  var contentKey = tagName === 'link' ? 'href' : 'content';\n  Object.keys(props).forEach(function (groupKey) {\n    var group = props[groupKey];\n    if (typeof group === 'string') {\n      tags.push(_defineProperty({\n        tagName: tagName\n      }, groupKey, group));\n      return;\n    }\n    Object.keys(group).forEach(function (key) {\n      var values = Array.isArray(group[key]) ? group[key] : [group[key]];\n      values.forEach(function (value) {\n        if (value !== null) {\n          var _tags$push2;\n\n          tags.push((_tags$push2 = {\n            tagName: tagName\n          }, _defineProperty(_tags$push2, groupKey, key), _defineProperty(_tags$push2, contentKey, value), _tags$push2));\n        }\n      });\n    });\n  });\n  return tags;\n}\n\nfunction getTags(_props) {\n  return [].concat(parseTags('meta', _props.meta), parseTags('link', _props.link));\n}\n\nfunction render() {\n  var meta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var i = 0;\n  var tags = [];\n\n  function renderTag(entry) {\n    var tagName = entry.tagName,\n        attr = _objectWithoutProperties(entry, ['tagName']);\n\n    if (tagName === 'meta') {\n      return _react2.default.createElement('meta', _extends({}, attr, { key: i++, 'data-rdm': true }));\n    }\n    if (tagName === 'link') {\n      return _react2.default.createElement('link', _extends({}, attr, { key: i++, 'data-rdm': true }));\n    }\n    return null;\n  }\n\n  if (meta.title) {\n    tags.push(_react2.default.createElement(\n      'title',\n      { key: i++ },\n      meta.title\n    ));\n  }\n\n  return getTags(meta).reduce(function (acc, entry) {\n    acc.push(renderTag(entry));\n    return acc;\n  }, tags);\n}\n\nvar DocumentMeta = function (_Component) {\n  _inherits(DocumentMeta, _Component);\n\n  function DocumentMeta() {\n    _classCallCheck(this, DocumentMeta);\n\n    return _possibleConstructorReturn(this, (DocumentMeta.__proto__ || Object.getPrototypeOf(DocumentMeta)).apply(this, arguments));\n  }\n\n  _createClass(DocumentMeta, [{\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n      var count = _react2.default.Children.count(children);\n      return count === 1 ? _react2.default.Children.only(children) : count ? _react2.default.createElement(\n        'div',\n        null,\n        this.props.children\n      ) : null;\n    }\n  }]);\n\n  return DocumentMeta;\n}(_react.Component);\n\nDocumentMeta.propTypes = {\n  title: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  description: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  canonical: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  base: _propTypes2.default.string,\n  meta: _propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]))])),\n  link: _propTypes2.default.objectOf(_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]))),\n  auto: _propTypes2.default.objectOf(_propTypes2.default.bool)\n};\n\n\nvar DocumentMetaWithSideEffect = (0, _reactSideEffect2.default)(reducePropsTostate, handleStateChangeOnClient)(DocumentMeta);\n\nDocumentMetaWithSideEffect.renderAsReact = function rewindAsReact() {\n  return render(DocumentMetaWithSideEffect.rewind());\n};\n\nexports.default = DocumentMetaWithSideEffect;\n"]},"metadata":{},"sourceType":"script"}